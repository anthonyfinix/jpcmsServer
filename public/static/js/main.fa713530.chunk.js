(this.webpackJsonpjptech=this.webpackJsonpjptech||[]).push([[0],{101:function(e,t,a){e.exports={wrapper:"sidebar_wrapper__15K6k",hidden:"sidebar_hidden__gLZCh",show:"sidebar_show__cmkqc"}},103:function(e,t,a){e.exports={main_wrapper:"login_main_wrapper__2zRST",wrapper:"login_wrapper__1z7nw",brand_wrapper:"login_brand_wrapper__3mkVg"}},145:function(e,t,a){e.exports={actionWrapper:"newJobDialogBox_actionWrapper__3b_fj"}},146:function(e,t,a){e.exports={wrapper:"header_wrapper__2Ks2h"}},149:function(e,t,a){e.exports={wrapper:"content_wrapper__3SaDL"}},150:function(e,t,a){e.exports={content_wrapper:"app_content_wrapper__170RZ"}},186:function(e,t,a){},187:function(e,t,a){},19:function(e,t,a){e.exports={wrapper:"table_wrapper__ziDrt",cell:"table_cell__1XAhc",th:"table_th__FPD0d",td:"table_td__27OyA",opt_cell:"table_opt_cell__xQNra"}},191:function(e,t,a){},229:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=(a(186),a(187),a(37)),o=a.n(r),s=(a(191),a(12)),i=a(295),l=a(1),u=function(e){var t=c.a.useState(""),a=Object(s.a)(t,2),n=a[0],r=a[1],o=c.a.createContext("");return Object(l.jsxs)(o.Provider,{value:{notify:function(e){r(e),setTimeout((function(){return r("")}),7e3)}},children:[e.children,Object(l.jsx)(i.a,{open:!!n,autoHideDuration:6e3,message:n})]})},d=a(83),j=a(16),b=c.a.createContext({}),h=function(e){var t=e.children,a=c.a.useState(!1),n=Object(s.a)(a,2),r=n[0],o=n[1];return Object(l.jsx)(b.Provider,{value:{isSidebarOpen:r,setIsSidebarOpen:o},children:t})},p=a(311),O=a(312),x=a(309),m=a(105),f=a(144),v=a.n(f),g=a(69),_=a(98),w=a(141),C=a.n(w).a.create({baseURL:"https://jpcms.herokuapp.com"});C.interceptors.request.use((function(e){var t=localStorage.getItem("JPtechSolutionAccessToken");return t&&(e.headers.authorization="Bearer ".concat(t)),e})),C.interceptors.response.use((function(e){var t=e.headers.authorization;return t&&localStorage.setItem("JPtechSolutionAccessToken",t.split(" ")[1]),e}));var S=C,D=c.a.createContext(null),N=function(e){var t=c.a.useState(null),a=Object(s.a)(t,2),n=a[0],r=a[1],o=c.a.useState(!0),i=Object(s.a)(o,2),u=i[0],d=i[1];return c.a.useEffect((function(){var e=localStorage.getItem("JPtechSolutionAccessToken");e?S.get("/user/login",{headers:{authorization:"Bearer ".concat(e)}}).then((function(e){return!e.data.error&&r(e.data)})).finally((function(){return d(!1)})):d(!1)}),[]),u?Object(l.jsx)("h1",{children:"Loading User"}):Object(l.jsx)(D.Provider,{value:{user:n,setUser:r,isUserLoading:u,setIsUserLoading:d},children:e.children})},k=a(143),Y=a.n(k),y=a(154),M=a(301),B=["children","className"],T=function(e){e.children,e.className;var t=Object(_.a)(e,B),a=c.a.useContext(D),n=a.user,r=a.setUser,o=Object(j.f)(),i=c.a.useState(null),u=Object(s.a)(i,2),d=u[0],b=u[1],h=Boolean(d),p=function(){return b(null)};return Object(l.jsxs)("div",Object(g.a)(Object(g.a)({},t),{},{children:[Object(l.jsx)(x.a,{onClick:function(e){if(!n)return o.push("/login");b(e.currentTarget)},children:Object(l.jsx)(Y.a,{})}),Object(l.jsxs)(y.a,{anchorEl:d,open:h,onClose:p,children:[n&&Object(l.jsx)(M.a,{onClick:p,children:n.username}),Object(l.jsx)(M.a,{onClick:function(){r(null),localStorage.removeItem("JPtechSolutionAccessToken")},children:"Logout"})]})]}))},z=function(){var e=c.a.useContext(b),t=e.setIsSidebarOpen,a=e.isSidebarOpen;return Object(l.jsx)(p.a,{position:"static",color:"primary",children:Object(l.jsxs)(O.a,{children:[Object(l.jsx)(x.a,{edge:"start",color:"inherit","aria-label":"menu",onClick:function(){return t(!a)},children:Object(l.jsx)(v.a,{})}),Object(l.jsx)(m.a,{variant:"h6",children:"JPCMS"}),Object(l.jsx)(T,{style:{marginLeft:"auto"}})]})})},J=a(101),L=a.n(J),P=a(310),I=a(299),U=a(291),R=a(292),E=function(){var e=c.a.useContext(b).isSidebarOpen;return Object(l.jsx)("div",{className:"".concat(L.a.wrapper," ").concat(e?L.a.show:L.a.hidden),children:Object(l.jsx)(P.a,{children:Object(l.jsx)(I.a,{disablePadding:!0,children:Object(l.jsx)(U.a,{children:Object(l.jsx)(R.a,{primary:"Jobs"})})})})})},A=a(64),F=a.n(A),V=a(102),W=a(297),q=a(316),K=a(302),Z=a(296),H=a(307),Q=a(304),X=a(18),G=a.n(X),$=a(145),ee=a.n($),te=function(e){var t=e.open,a=e.handleClose,n=e.createJob,r=e.selected,o=e.updateJob,i=e.isUpdate,u=c.a.useState(""),d=Object(s.a)(u,2),j=d[0],b=d[1],h=c.a.useState(""),p=Object(s.a)(h,2),O=p[0],x=p[1],m=c.a.useState(""),f=Object(s.a)(m,2),v=f[0],g=f[1],_=c.a.useState(""),w=Object(s.a)(_,2),C=w[0],S=w[1],D=c.a.useState(""),N=Object(s.a)(D,2),k=N[0],Y=N[1],y=c.a.useState(""),B=Object(s.a)(y,2),T=B[0],z=B[1],J=c.a.useState(""),L=Object(s.a)(J,2),P=L[0],I=L[1],U=c.a.useState(""),R=Object(s.a)(U,2),E=R[0],A=R[1],F=c.a.useState(""),V=Object(s.a)(F,2),X=V[0],$=V[1],te=c.a.useState(!1),ae=Object(s.a)(te,2),ne=ae[0],ce=ae[1],re=c.a.useState(""),oe=Object(s.a)(re,2),se=oe[0],ie=oe[1],le=c.a.useState(""),ue=Object(s.a)(le,2),de=ue[0],je=ue[1],be=c.a.useState("".concat(G()().format("YYYY"),"-").concat(G()().format("MM"),"-").concat(G()().format("DD"))),he=Object(s.a)(be,2),pe=he[0],Oe=he[1],xe=c.a.useState("".concat(G()().format("YYYY"),"-").concat(G()().format("MM"),"-").concat(G()().format("DD"))),me=Object(s.a)(xe,2),fe=me[0],ve=me[1],ge=c.a.useState(""),_e=Object(s.a)(ge,2),we=_e[0],Ce=_e[1],Se=function(){b(""),g(""),S(""),z(""),A(""),ce(""),ie(""),Oe("".concat(G()().format("YYYY"),"-").concat(G()().format("MM"),"-").concat(G()().format("DD"))),ve("".concat(G()().format("YYYY"),"-").concat(G()().format("MM"),"-").concat(G()().format("DD"))),Ce("")},De=function(){Se(),a()},Ne=function(){return n({customerName:j,serialNumber:v,model:C,issues:T,brand:E,status:ne,amount:se,receivedDate:pe,returnedDate:fe,detailedDescription:we})},ke=function(){return o({id:r._id,customerName:j,serialNumber:v,model:C,issues:T,brand:E,status:ne,amount:se,receivedDate:pe,returnedDate:fe,detailedDescription:we})};return c.a.useEffect((function(){i&&r&&(b(r.customerName),g(r.serialNumber),S(r.model),z(r.issues),A(r.brand),ce(r.status),ie(r.amount),Oe("".concat(G()(r.receivedDate).format("YYYY"),"-").concat(G()(r.receivedDate).format("MM"),"-").concat(G()(r.receivedDate).format("DD"))),ve("".concat(G()(r.returnedDate).format("YYYY"),"-").concat(G()(r.returnedDate).format("MM"),"-").concat(G()(r.returnedDate).format("DD"))),Ce(r.detailedDescription))}),[i]),Object(l.jsx)(Q.a,{open:t,fullWidth:!0,onClose:De,children:Object(l.jsxs)("div",{className:"add-new-service-wrapper",children:[Object(l.jsx)(W.a,{error:!!O,helperText:O,size:"small",value:j,onChange:function(e){var t=e.currentTarget.value;x(""===t?"Should not be empty":""),b(t)},label:"Customer Name",variant:"outlined"}),Object(l.jsx)(W.a,{size:"small",value:v,onChange:function(e){return g(e.target.value)},label:"Serial Number",variant:"outlined",type:"number"}),Object(l.jsx)(W.a,{error:!!k,helperText:k,size:"small",value:C,onChange:function(e){var t=e.currentTarget.value;Y(""===t?"Should not be empty":""),S(t)},label:"Model",variant:"outlined"}),Object(l.jsx)(W.a,{error:!!P,helperText:P,size:"small",value:T,onChange:function(e){var t=e.currentTarget.value;I(""===t?"Should not be empty":""),z(t)},label:"Issues",variant:"outlined"}),Object(l.jsx)(W.a,{error:!!X,helperText:X,size:"small",value:E,onChange:function(e){var t=e.currentTarget.value;$(""===t?"Should not be empty":""),A(t)},label:"Brand",variant:"outlined"}),Object(l.jsxs)(q.a,{variant:"outlined",size:"small",children:[Object(l.jsx)(K.a,{id:"demo-simple-select-outlined-label",children:"Status"}),Object(l.jsxs)(Z.a,{value:!0===ne?"resolved":"returned",onChange:function(e){return ce("resolved"===e.target.value)},children:[Object(l.jsx)(M.a,{value:"resolved",children:"Resolved"}),Object(l.jsx)(M.a,{value:"returned",children:"Return"})]})]}),Object(l.jsx)(W.a,{error:!!de,helperText:de,type:"number",size:"small",value:se,onChange:function(e){var t=e.currentTarget.value;je(""===t?"Should not be empty":""),ie(t)},label:"Amount",variant:"outlined"}),Object(l.jsx)(W.a,{id:"date",label:"Received Date",type:"date",defaultValue:pe,InputLabelProps:{shrink:!0},onChange:function(e){return Oe(e.target.value)}}),Object(l.jsx)(W.a,{id:"date",label:"Returned Date",type:"date",defaultValue:fe,InputLabelProps:{shrink:!0},onChange:function(e){return ve(e.target.value)}}),Object(l.jsx)(W.a,{value:we,onChange:function(e){return Ce(e.target.value)},size:"small",label:"Detailed Description",multiline:!0,variant:"outlined"}),Object(l.jsxs)("div",{className:ee.a.actionWrapper,children:[Object(l.jsx)(H.a,{onClick:De,children:" Close "}),Object(l.jsx)(H.a,{disabled:k||O||P||de,variant:"contained",onClick:function(){i?ke().then((function(){return Se()})):Ne().then((function(){return Se()}))},children:i?"Update":"Add New Job"})]})]})})},ae=a(308),ne=a(147),ce=a.n(ne),re=a(146),oe=a.n(re),se=function(e){var t=e.addNew;return Object(l.jsxs)(ae.a,{display:"flex",className:oe.a.wrapper,justifyContent:"space-between",alignItems:"center",children:[Object(l.jsx)("h3",{children:"Jobs"}),Object(l.jsx)(x.a,{onClick:t,color:"primary","aria-label":"upload picture",component:"span",children:Object(l.jsx)(ce.a,{})})]})},ie=["open","handleClose","job"],le=function(e){var t=e.open,a=e.handleClose,n=e.job;Object(_.a)(e,ie);return n?Object(l.jsx)(Q.a,{open:t,fullWidth:!0,onClose:function(){a()},children:Object(l.jsxs)(ae.a,{padding:"30px",children:[Object(l.jsxs)("div",{children:[Object(l.jsx)(m.a,{variant:"overline",display:"block",gutterBottom:!0,children:"Customer name"}),Object(l.jsx)(m.a,{variant:"h6",gutterBottom:!0,component:"div",children:n.customerName})]}),Object(l.jsxs)("div",{children:[Object(l.jsx)(m.a,{variant:"overline",display:"block",gutterBottom:!0,children:"Model Number"}),Object(l.jsx)(m.a,{variant:"h6",gutterBottom:!0,component:"div",children:n.model})]}),Object(l.jsxs)("div",{children:[Object(l.jsx)(m.a,{variant:"overline",display:"block",gutterBottom:!0,children:"Received Date"}),Object(l.jsx)(m.a,{variant:"h6",gutterBottom:!0,component:"div",children:G()(n.receivedDate).format("Do MMM YY")})]}),Object(l.jsxs)("div",{children:[Object(l.jsx)(m.a,{variant:"overline",display:"block",gutterBottom:!0,children:"Returned Date"}),Object(l.jsx)(m.a,{variant:"h6",gutterBottom:!0,component:"div",children:G()(n.returnedDate).format("Do MMM YY")})]}),Object(l.jsxs)("div",{children:[Object(l.jsx)(m.a,{variant:"overline",display:"block",gutterBottom:!0,children:"Amount"}),Object(l.jsx)(m.a,{variant:"h6",gutterBottom:!0,component:"div",children:n.amount})]}),Object(l.jsxs)("div",{children:[Object(l.jsx)(m.a,{variant:"overline",display:"block",gutterBottom:!0,children:"Description"}),Object(l.jsx)(m.a,{variant:"h6",gutterBottom:!0,component:"div",children:n.detailedDescription})]})]})}):null},ue=a(318),de=a(322),je=a(321),be=a(319),he=a(317),pe=a(320),Oe=a(19),xe=a.n(Oe),me=a(148),fe=a.n(me),ve=c.a.createContext(null),ge=function(e){var t=e.children,a=c.a.useState(null),n=Object(s.a)(a,2),r=n[0],o=n[1],i=function(e){o(window.innerWidth)};return c.a.useEffect((function(){return window.addEventListener("resize",i),function(){return window.removeEventListener("resize",i)}}),[]),Object(l.jsx)(ve.Provider,{value:{width:r},children:t})},_e=function(e){var t=c.a.useContext(ve).width,a=c.a.useState(null),n=Object(s.a)(a,2),r=n[0],o=n[1];return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(he.a,{className:"".concat(xe.a.wrapper),children:Object(l.jsxs)(ue.a,{children:[Object(l.jsx)(be.a,{children:Object(l.jsxs)(pe.a,{children:[Object(l.jsx)(je.a,{className:"".concat(xe.a.cell," ").concat(xe.a.th),children:"Customer Name"}),t>600&&Object(l.jsx)(je.a,{className:"".concat(xe.a.cell," ").concat(xe.a.th),children:"Serial Number"}),t>600&&Object(l.jsx)(je.a,{className:"".concat(xe.a.cell," ").concat(xe.a.th),children:"Rec Date"}),t>600&&Object(l.jsx)(je.a,{className:"".concat(xe.a.cell," ").concat(xe.a.th),children:"Ret Date"}),t>600&&Object(l.jsx)(je.a,{className:"".concat(xe.a.cell," ").concat(xe.a.th),children:"Amount"}),Object(l.jsx)(je.a,{className:"".concat(xe.a.cell," ").concat(xe.a.th)})]})}),Object(l.jsx)(de.a,{children:e.jobs.map((function(a){return Object(l.jsxs)(pe.a,{children:[Object(l.jsx)(je.a,{className:xe.a.td,component:"th",scope:"row",children:a.customerName}),t>600&&Object(l.jsx)(je.a,{className:"".concat(xe.a.cell," ").concat(xe.a.th),children:a.serialNumber}),t>600&&Object(l.jsx)(je.a,{className:"".concat(xe.a.cell," ").concat(xe.a.th),children:G()(a.receivedDate).format("Do MMM YY")}),t>600&&Object(l.jsx)(je.a,{className:"".concat(xe.a.cell," ").concat(xe.a.th),children:G()(a.returnedDate).format("Do MMM YY")}),t>600&&Object(l.jsx)(je.a,{className:"".concat(xe.a.cell," ").concat(xe.a.th),children:a.amount}),Object(l.jsx)(je.a,{className:"".concat(xe.a.td," ").concat(xe.a.opt_cell),component:"th",scope:"row",children:Object(l.jsx)(fe.a,{onClick:function(t){return function(t,a){o(t.target),e.selected.current=a}(t,a)}})})]},a._id)}))})]})}),Object(l.jsxs)(y.a,{id:"simple-menu",anchorEl:r,keepMounted:!0,open:Boolean(r),onClose:function(){return o(null)},children:[Object(l.jsx)(M.a,{onClick:function(){e.handleViewJob(),o(null)},children:"View"}),Object(l.jsx)(M.a,{onClick:function(){e.handleUpdate(),o(null)},children:"Update"}),Object(l.jsx)(M.a,{onClick:function(){e.handleDelete(),o(null)},children:"Delete"})]})]})},we=function(){var e=c.a.useState(!1),t=Object(s.a)(e,2),a=t[0],n=t[1],r=c.a.useState(!1),o=Object(s.a)(r,2),i=o[0],u=o[1],d=c.a.useState(!1),j=Object(s.a)(d,2),b=j[0],h=j[1],p=c.a.useState([]),O=Object(s.a)(p,2),x=O[0],m=O[1],f=function(){u(!1),a&&n(!1)},v=function(){return u(!0)},_=c.a.useRef(null),w=function(){var e=Object(V.a)(F.a.mark((function e(t){var a,n;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.post("/service",Object(g.a)({},t));case 2:if((a=e.sent).error){e.next=9;break}return f(),e.next=7,S.get("/service");case 7:n=e.sent,m(n.data.result);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=Object(V.a)(F.a.mark((function e(t){var a,c;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.put("/service",Object(g.a)({},t));case 2:if((a=e.sent).error){e.next=10;break}return f(),e.next=7,S.get("/service");case 7:c=e.sent,m(c.data.result),_.current=null;case 10:return n(!1),e.abrupt("return",a);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D=function(){var e=Object(V.a)(F.a.mark((function e(){var t;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.delete("/service/".concat(_.current._id));case 2:return e.next=4,S.get("/service");case 4:t=e.sent,m(t.data.result);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return c.a.useEffect((function(){S.get("/service").then((function(e){m(e.data.result)}))}),[]),Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(se,{addNew:v}),Object(l.jsx)(_e,{jobs:x,selected:_,handleViewJob:function(){h(!0)},handleUpdate:function(){v(),n(!0)},handleDelete:function(){D()}}),Object(l.jsx)(te,{open:i,handleClose:f,createJob:w,updateJob:C,selected:_.current,isUpdate:a}),Object(l.jsx)(le,{open:b,handleClose:function(){h(!1),_.current=null},job:_.current})]})},Ce=a(149),Se=a.n(Ce),De=function(){return Object(l.jsx)("div",{className:Se.a.wrapper,children:Object(l.jsx)(j.c,{children:Object(l.jsx)(j.a,{exact:!0,path:"/",component:we})})})},Ne=a(150),ke=a.n(Ne),Ye=function(){var e=c.a.useContext(D).user,t=Object(j.f)();return c.a.useEffect((function(){e||t.push("/login")}),[t,e]),Object(l.jsxs)(h,{children:[Object(l.jsx)(z,{}),Object(l.jsxs)("div",{className:"".concat(ke.a.content_wrapper),children:[Object(l.jsx)(E,{}),Object(l.jsx)(De,{})]})]})},ye=a(306),Me=a(103),Be=a.n(Me),Te=a.p+"static/media/logo.c42e8372.svg",ze=function(){var e=Object(j.f)(),t=c.a.useState(""),a=Object(s.a)(t,2),n=a[0],r=a[1],o=c.a.useState(""),i=Object(s.a)(o,2),u=i[0],d=i[1],b=c.a.useContext(D),h=b.user,p=b.setUser;return c.a.useEffect((function(){h&&e.push("/")})),Object(l.jsxs)(ae.a,{className:"".concat(Be.a.main_wrapper," m-md"),children:[Object(l.jsxs)("div",{className:"".concat(Be.a.brand_wrapper),children:[Object(l.jsx)("img",{src:"".concat(Te),alt:"logo"}),Object(l.jsx)(m.a,{children:"Catalog"})]}),Object(l.jsxs)(ye.a,{className:Be.a.wrapper,children:[Object(l.jsx)(W.a,{size:"small",label:"username",value:n,variant:"outlined",onChange:function(e){return r(e.target.value)}}),Object(l.jsx)(W.a,{size:"small",type:"password",label:"password",value:u,variant:"outlined",onChange:function(e){return d(e.target.value)}}),Object(l.jsx)(H.a,{variant:"contained",onClick:function(){S.post("/user/login",{username:n,password:u}).then((function(e){return!e.data.error&&p(e.data.user)}))},children:"Login"})]})]})},Je=function(){return Object(l.jsxs)(j.c,{children:[Object(l.jsx)(j.a,{exact:!0,path:"/login",component:ze}),Object(l.jsx)(j.a,{exact:!0,path:"/",component:Ye})]})},Le=a(300),Pe=a(293),Ie=a(153),Ue=Object(Ie.a)({palette:{primary:{main:"#0052cc"},secondary:{main:"#edf2ff"}}}),Re=function(e){var t=e.children;return Object(l.jsxs)(Le.a,{theme:Ue,children:[Object(l.jsx)(Pe.a,{}),t]})},Ee=a(121),Ae=function(e){var t=e.children;return Object(l.jsxs)(Ee.b,{children:[Object(l.jsx)(Ee.a,{children:Object(l.jsx)("title",{children:"CMS"})}),t]})};var Fe=function(){return Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)(ge,{children:[Object(l.jsx)(Ae,{}),Object(l.jsx)(Re,{children:Object(l.jsx)(N,{children:Object(l.jsx)(d.a,{children:Object(l.jsx)(u,{children:Object(l.jsx)(Je,{})})})})})]})})},Ve=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,323)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,o=t.getTTFB;a(e),n(e),c(e),r(e),o(e)}))};o.a.render(Object(l.jsx)(c.a.StrictMode,{children:Object(l.jsx)(Fe,{})}),document.getElementById("root")),Ve()}},[[229,1,2]]]);
//# sourceMappingURL=main.fa713530.chunk.js.map