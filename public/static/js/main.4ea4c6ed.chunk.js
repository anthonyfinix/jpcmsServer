(this.webpackJsonpjptech=this.webpackJsonpjptech||[]).push([[0],{247:function(e,t,a){e.exports={content:"job_content__1AdaG"}},359:function(e,t,a){e.exports={wrapper:"sidebar_wrapper__1TluO"}},361:function(e,t,a){e.exports={wrapper:"header_wrapper__2Ks2h"}},378:function(e,t,a){e.exports={wrapper:"content_wrapper__3SaDL"}},396:function(e,t,a){},397:function(e,t,a){},485:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(16),o=a.n(c),s=(a(396),a(397),a(30)),u=a(509),i=a(7),l=function(e){var t=r.a.useState(""),a=Object(s.a)(t,2),n=a[0],c=a[1],o=r.a.createContext("");return Object(i.jsxs)(o.Provider,{value:{notify:function(e){c(e),setTimeout((function(){return c("")}),7e3)}},children:[e.children,Object(i.jsx)(u.a,{open:!!n,autoHideDuration:6e3,message:n})]})},j=a(181),d=a(25),b=a(511),f=a(323),O=a(236),p=a(91),h=a(237),x=a.n(h),m=a(17),v=a(379),g=a(357),D=a.n(g).a.create({baseURL:"https://jpcms.herokuapp.com/"});D.interceptors.request.use((function(e){var t=localStorage.getItem("JPtechSolutionAccessToken");return t&&(e.headers.authorization="Bearer ".concat(t)),e})),D.interceptors.response.use((function(e){var t=e.headers.authorization;return t&&localStorage.setItem("JPtechSolutionAccessToken",t.split(" ")[1]),e}));var w=D,S=r.a.createContext(null),C=function(e){var t=r.a.useState(null),a=Object(s.a)(t,2),n=a[0],c=a[1],o=r.a.useState(!0),u=Object(s.a)(o,2),l=u[0],j=u[1];return r.a.useEffect((function(){var e=localStorage.getItem("JPtechSolutionAccessToken");e?w.get("/user/login",{headers:{authorization:"Bearer ".concat(e)}}).then((function(e){return!e.data.error&&c(e.data)})).finally((function(){return j(!1)})):j(!1)}),[]),l?Object(i.jsx)("h1",{children:"Loading User"}):Object(i.jsx)(S.Provider,{value:{user:n,setUser:c,isUserLoading:l,setIsUserLoading:j},children:e.children})},N=a(322),R=["children","className"],Y=function(e){e.children,e.className;var t=Object(v.a)(e,R),a=r.a.useContext(S),n=a.user,c=a.setUser,o=Object(d.f)();return Object(i.jsx)("div",Object(m.a)(Object(m.a)({},t),{},{children:Object(i.jsx)(N.a,{onClick:function(){n&&(c(null),localStorage.removeItem("JPtechSolutionAccessToken")),o.push("/login")},children:n?n.username:"login"})}))},_=function(){return Object(i.jsx)(b.a,{position:"static",children:Object(i.jsxs)(f.a,{children:[Object(i.jsx)(O.a,{edge:"start",color:"inherit","aria-label":"menu",children:Object(i.jsx)(x.a,{})}),Object(i.jsx)(p.a,{variant:"h6",children:"JPCMS"}),Object(i.jsx)(Y,{style:{marginLeft:"auto"}})]})})},k=a(359),M=a.n(k),P=function(){return Object(i.jsx)("div",{className:M.a.wrapper,children:Object(i.jsx)("h5",{children:"Sidebar"})})},T=a(105),E=a.n(T),A=a(202),L=a(512),U=a(324),y=a(238),I=a(239),J=a(244),z=a(325),F=a(33),B=a.n(F),H=function(e){var t=e.open,a=e.handleClose,c=e.createJob,o=e.selected,u=e.updateJob,l=e.isUpdate,j=r.a.useState(""),d=Object(s.a)(j,2),b=d[0],f=d[1],O=r.a.useState(""),p=Object(s.a)(O,2),h=p[0],x=p[1],m=r.a.useState(""),v=Object(s.a)(m,2),g=v[0],D=v[1],w=r.a.useState(""),S=Object(s.a)(w,2),C=S[0],R=S[1],Y=r.a.useState(""),_=Object(s.a)(Y,2),k=_[0],M=_[1],P=r.a.useState(!1),T=Object(s.a)(P,2),E=T[0],A=T[1],F=r.a.useState(""),H=Object(s.a)(F,2),K=H[0],V=H[1],W=r.a.useState("".concat(B()().format("YYYY"),"-").concat(B()().format("MM"),"-").concat(B()().format("DD"))),q=Object(s.a)(W,2),G=q[0],Q=q[1],X=r.a.useState("".concat(B()().format("YYYY"),"-").concat(B()().format("MM"),"-").concat(B()().format("DD"))),Z=Object(s.a)(X,2),$=Z[0],ee=Z[1],te=r.a.useState(""),ae=Object(s.a)(te,2),ne=ae[0],re=ae[1],ce=function(){f(""),x(""),D(""),R(""),M(""),A(""),V(""),Q("".concat(B()().format("YYYY"),"-").concat(B()().format("MM"),"-").concat(B()().format("DD"))),ee("".concat(B()().format("YYYY"),"-").concat(B()().format("MM"),"-").concat(B()().format("DD"))),re("")},oe=function(){l?ue().then((function(){return ce()})):se().then((function(){return ce()}))},se=function(){return c({customerName:b,serialNumber:h,model:g,issues:C,brand:k,status:E,amount:K,receivedDate:G,returnedDate:$,detailedDescription:ne})},ue=function(){return u({id:o._id,customerName:b,serialNumber:h,model:g,issues:C,brand:k,status:E,amount:K,receivedDate:G,returnedDate:$,detailedDescription:ne})};return Object(n.useEffect)((function(){l&&o&&(f(o.customerName),x(o.serialNumber),D(o.model),R(o.issues),M(o.brand),A(o.status),V(o.amount),Q("".concat(B()(o.receivedDate).format("YYYY"),"-").concat(B()(o.receivedDate).format("MM"),"-").concat(B()(o.receivedDate).format("DD"))),ee("".concat(B()(o.returnedDate).format("YYYY"),"-").concat(B()(o.returnedDate).format("MM"),"-").concat(B()(o.returnedDate).format("DD"))),re(o.detailedDescription))}),[l]),Object(i.jsx)(L.a,{open:t,onClose:function(){ce(),a()},children:Object(i.jsxs)("div",{className:"add-new-service-wrapper",children:[Object(i.jsx)(U.a,{size:"small",value:b,onChange:function(e){return f(e.target.value)},label:"Customer Name",variant:"outlined"}),Object(i.jsx)(U.a,{size:"small",value:h,onChange:function(e){return x(e.target.value)},label:"Serial Number",variant:"outlined",type:"number"}),Object(i.jsx)(U.a,{size:"small",value:g,onChange:function(e){return D(e.target.value)},label:"Model",variant:"outlined"}),Object(i.jsx)(U.a,{size:"small",value:C,onChange:function(e){return R(e.target.value)},label:"Issues",variant:"outlined"}),Object(i.jsx)(U.a,{size:"small",value:k,onChange:function(e){return M(e.target.value)},label:"Brand",variant:"outlined"}),Object(i.jsxs)(y.a,{variant:"outlined",size:"small",children:[Object(i.jsx)(I.a,{id:"demo-simple-select-outlined-label",children:"Status"}),Object(i.jsxs)(J.a,{value:!0===E?"resolved":"returned",onChange:function(e){return A("resolved"===e.target.value)},children:[Object(i.jsx)(z.a,{value:"resolved",children:"Resolved"}),Object(i.jsx)(z.a,{value:"returned",children:"Return"})]})]}),Object(i.jsx)(U.a,{size:"small",value:K,onChange:function(e){return V(e.target.value)},label:"Amount",variant:"outlined"}),Object(i.jsx)(U.a,{id:"date",label:"Received Date",type:"date",defaultValue:G,InputLabelProps:{shrink:!0},onChange:function(e){return Q(e.target.value)}}),Object(i.jsx)(U.a,{id:"date",label:"Returned Date",type:"date",defaultValue:$,InputLabelProps:{shrink:!0},onChange:function(e){return ee(e.target.value)}}),Object(i.jsx)(U.a,{value:ne,onChange:function(e){return re(e.target.value)},size:"small",label:"Detailed Description",multiline:!0,variant:"outlined"}),l?Object(i.jsx)(N.a,{onClick:oe,children:"Update"}):Object(i.jsx)(N.a,{onClick:oe,children:"Add New Job"})]})})},K=a(232),V=a(361),W=a.n(V),q=function(e){var t=e.addNew;return Object(i.jsxs)(K.a,{display:"flex",className:W.a.wrapper,justifyContent:"space-between",alignItems:"center",children:[Object(i.jsx)("h1",{children:"Jobs"}),Object(i.jsx)(N.a,{onClick:t,variant:"contained",children:"Add New"})]})},G=a(247),Q=a.n(G),X=a(243),Z=a.n(X),$=a(377),ee=a.n($),te=a(364),ae=a.n(te),ne=a(374),re=a.n(ne),ce=a(365),oe=a.n(ce),se=a(372),ue=a.n(se),ie=a(249),le=a.n(ie),je=a(248),de=a.n(je),be=a(366),fe=a.n(be),Oe=a(367),pe=a.n(Oe),he=a(369),xe=a.n(he),me=a(370),ve=a.n(me),ge=a(371),De=a.n(ge),we=a(375),Se=a.n(we),Ce=a(368),Ne=a.n(Ce),Re=a(373),Ye=a.n(Re),_e=a(376),ke=a.n(_e),Me=a(179),Pe=function(){var e,t=r.a.useState(!1),a=Object(s.a)(t,2),c=a[0],o=a[1],u=r.a.useState(!1),l=Object(s.a)(u,2),j=l[0],d=l[1],b=r.a.useState([]),f=Object(s.a)(b,2),O=f[0],p=f[1],h=function(){d(!1),c&&o(!1)},x=function(){return d(!0)},v=r.a.useRef(null),g=r.a.useState(null),D=Object(s.a)(g,2),S=D[0],C=D[1],N={Add:Object(n.forwardRef)((function(e,t){return Object(i.jsx)(ae.a,Object(m.a)(Object(m.a)({},e),{},{ref:t}))})),Check:Object(n.forwardRef)((function(e,t){return Object(i.jsx)(oe.a,Object(m.a)(Object(m.a)({},e),{},{ref:t}))})),Clear:Object(n.forwardRef)((function(e,t){return Object(i.jsx)(de.a,Object(m.a)(Object(m.a)({},e),{},{ref:t}))})),Delete:Object(n.forwardRef)((function(e,t){return Object(i.jsx)(fe.a,Object(m.a)(Object(m.a)({},e),{},{ref:t}))})),DetailPanel:Object(n.forwardRef)((function(e,t){return Object(i.jsx)(le.a,Object(m.a)(Object(m.a)({},e),{},{ref:t}))})),Edit:Object(n.forwardRef)((function(e,t){return Object(i.jsx)(pe.a,Object(m.a)(Object(m.a)({},e),{},{ref:t}))})),Export:Object(n.forwardRef)((function(e,t){return Object(i.jsx)(Ne.a,Object(m.a)(Object(m.a)({},e),{},{ref:t}))})),Filter:Object(n.forwardRef)((function(e,t){return Object(i.jsx)(xe.a,Object(m.a)(Object(m.a)({},e),{},{ref:t}))})),FirstPage:Object(n.forwardRef)((function(e,t){return Object(i.jsx)(ve.a,Object(m.a)(Object(m.a)({},e),{},{ref:t}))})),LastPage:Object(n.forwardRef)((function(e,t){return Object(i.jsx)(De.a,Object(m.a)(Object(m.a)({},e),{},{ref:t}))})),NextPage:Object(n.forwardRef)((function(e,t){return Object(i.jsx)(le.a,Object(m.a)(Object(m.a)({},e),{},{ref:t}))})),PreviousPage:Object(n.forwardRef)((function(e,t){return Object(i.jsx)(ue.a,Object(m.a)(Object(m.a)({},e),{},{ref:t}))})),ResetSearch:Object(n.forwardRef)((function(e,t){return Object(i.jsx)(de.a,Object(m.a)(Object(m.a)({},e),{},{ref:t}))})),Search:Object(n.forwardRef)((function(e,t){return Object(i.jsx)(Ye.a,Object(m.a)(Object(m.a)({},e),{},{ref:t}))})),SortArrow:Object(n.forwardRef)((function(e,t){return Object(i.jsx)(re.a,Object(m.a)(Object(m.a)({},e),{},{ref:t}))})),ThirdStateCheck:Object(n.forwardRef)((function(e,t){return Object(i.jsx)(Se.a,Object(m.a)(Object(m.a)({},e),{},{ref:t}))})),ViewColumn:Object(n.forwardRef)((function(e,t){return Object(i.jsx)(ke.a,Object(m.a)(Object(m.a)({},e),{},{ref:t}))}))},R=function(){var e=Object(A.a)(E.a.mark((function e(t){var a,n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.post("/service",Object(m.a)({},t));case 2:if((a=e.sent).error){e.next=9;break}return h(),e.next=7,w.get("/service");case 7:n=e.sent,p(n.data.result);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Y=function(){var e=Object(A.a)(E.a.mark((function e(t){var a,n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.put("/service",Object(m.a)({},t));case 2:if((a=e.sent).error){e.next=10;break}return h(),e.next=7,w.get("/service");case 7:n=e.sent,p(n.data.result),v.current=null;case 10:return o(!1),e.abrupt("return",a);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=function(){var e=Object(A.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.delete("/service/".concat(v.current._id));case 2:return e.next=4,w.get("/service");case 4:t=e.sent,p(t.data.result),C(null);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.useEffect((function(){w.get("/service").then((function(e){p(e.data.result)}))}),[]),Object(i.jsxs)("div",{className:Q.a.content,children:[Object(i.jsx)(q,{addNew:x}),Object(i.jsx)(Z.a,{options:{search:!1,showTitle:!1,toolbar:!1},icons:N,className:Q.a.wrapper,columns:[{field:"customerName",title:"Customer Name"},{field:"serialNumber",title:"Sr.No"},{field:"model",title:"Model"},{field:"receivedDate",title:"Rec Date"},{field:"returnedDate",title:"Ret Date"},{field:"amount",title:"Amount"}],data:(e=O,e.map((function(e){return{id:e._id,serialNumber:e.serialNumber,customerName:e.customerName,model:e.model,issue:e.issues,brand:e.brand,receivedDate:B()(e.receivedDate).format("Do MMM YY"),returnedDate:B()(e.returnedDate).format("Do MMM YY"),detailedDescription:e.detailedDescription,amount:e.amount}}))),actions:[{icon:function(){return Object(i.jsx)(ee.a,{})},tooltip:"Save User",onClick:function(e,t){C(e.target),w.get("/service/".concat(t.id)).then((function(e){v.current=e.data.result}))}}]}),Object(i.jsx)(H,{open:j,handleClose:h,createJob:R,updateJob:Y,selected:v.current,isUpdate:c}),Object(i.jsxs)(Me.a,{id:"simple-menu",anchorEl:S,keepMounted:!0,open:Boolean(S),onClose:function(){return C(null)},children:[Object(i.jsx)(z.a,{onClick:_,children:"Delete"}),Object(i.jsx)(z.a,{onClick:function(){C(null),x(),o(!0)},children:"Update"})]})]})},Te=a(378),Ee=a.n(Te),Ae=function(){return Object(i.jsx)("div",{className:Ee.a.wrapper,children:Object(i.jsx)(d.c,{children:Object(i.jsx)(d.a,{exact:!0,path:"/",component:Pe})})})},Le=function(){var e=r.a.useContext(S).user,t=Object(d.f)();return r.a.useEffect((function(){e||t.push("/login")}),[]),Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(_,{}),Object(i.jsxs)("div",{className:"content-wrapper",children:[Object(i.jsx)(P,{}),Object(i.jsx)(Ae,{})]})]})},Ue=a(124),ye=function(){var e=Object(d.f)(),t=r.a.useState(""),a=Object(s.a)(t,2),n=a[0],c=a[1],o=r.a.useState(""),u=Object(s.a)(o,2),l=u[0],j=u[1],b=r.a.useContext(S),f=b.user,O=b.setUser;return r.a.useEffect((function(){f&&e.push("/")})),Object(i.jsx)(K.a,{padding:10,children:Object(i.jsx)(Ue.a,{children:Object(i.jsxs)(K.a,{display:"flex",flexDirection:"column",padding:10,children:[Object(i.jsx)(U.a,{label:"username",value:n,variant:"outlined",onChange:function(e){return c(e.target.value)}}),Object(i.jsx)(U.a,{type:"password",label:"password",value:l,variant:"outlined",onChange:function(e){return j(e.target.value)}}),Object(i.jsx)(N.a,{onClick:function(){w.post("/user/login",{username:n,password:l}).then((function(e){console.log(e),e.data.error||O(e.data.user)}))},children:"Login"})]})})})},Ie=function(){return Object(i.jsxs)(d.c,{children:[console.log(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_URL:"https://jpcms.herokuapp.com/"})),Object(i.jsx)(d.a,{exact:!0,path:"/login",component:ye}),Object(i.jsx)(d.a,{exact:!0,path:"/",component:Le})]})};var Je=function(){return Object(i.jsx)(C,{children:Object(i.jsx)(j.a,{children:Object(i.jsx)(l,{children:Object(i.jsx)(Ie,{})})})})},ze=function(e){e&&e instanceof Function&&a.e(6).then(a.bind(null,910)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,o=t.getTTFB;a(e),n(e),r(e),c(e),o(e)}))};o.a.render(Object(i.jsx)(r.a.StrictMode,{children:Object(i.jsx)(Je,{})}),document.getElementById("root")),ze()}},[[485,1,2]]]);
//# sourceMappingURL=main.4ea4c6ed.chunk.js.map