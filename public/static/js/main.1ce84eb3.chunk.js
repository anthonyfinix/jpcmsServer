(this.webpackJsonpjptech=this.webpackJsonpjptech||[]).push([[0],{114:function(e,t,a){e.exports={wrapper:"sidebar_wrapper__15K6k",hidden:"sidebar_hidden__gLZCh",show:"sidebar_show__cmkqc"}},158:function(e,t,a){e.exports={actionWrapper:"newJobDialogBox_actionWrapper__3b_fj"}},159:function(e,t,a){e.exports={wrapper:"header_wrapper__2Ks2h"}},162:function(e,t,a){e.exports={wrapper:"content_wrapper__3SaDL"}},163:function(e,t,a){e.exports={content_wrapper:"app_content_wrapper__170RZ"}},208:function(e,t,a){},209:function(e,t,a){},24:function(e,t,a){e.exports={wrapper:"table_wrapper__ziDrt",cell:"table_cell__1XAhc",th:"table_th__FPD0d",td:"table_td__27OyA",opt_cell:"table_opt_cell__xQNra"}},248:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(20),o=a.n(r),s=(a(208),a(209),a(13)),i=a(338),l=a(1),u=function(e){var t=c.a.useState(""),a=Object(s.a)(t,2),n=a[0],r=a[1],o=c.a.createContext("");return Object(l.jsxs)(o.Provider,{value:{notify:function(e){r(e),setTimeout((function(){return r("")}),7e3)}},children:[e.children,Object(l.jsx)(i.a,{open:!!n,autoHideDuration:6e3,message:n})]})},d=a(96),j=a(19),b=c.a.createContext({}),h=function(e){var t=e.children,a=c.a.useState(!1),n=Object(s.a)(a,2),r=n[0],o=n[1];return Object(l.jsx)(b.Provider,{value:{isSidebarOpen:r,setIsSidebarOpen:o},children:t})},O=a(345),p=a(346),x=a(343),f=a(117),m=a(157),v=a.n(m),g=a(82),S=a(111),C=a(154),_=a.n(C).a.create({baseURL:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API_URL||"http://localhost:8080"});_.interceptors.request.use((function(e){var t=localStorage.getItem("JPtechSolutionAccessToken");return t&&(e.headers.authorization="Bearer ".concat(t)),e})),_.interceptors.response.use((function(e){var t=e.headers.authorization;return t&&localStorage.setItem("JPtechSolutionAccessToken",t.split(" ")[1]),e}));var D=_,w=c.a.createContext(null),N=function(e){var t=c.a.useState(null),a=Object(s.a)(t,2),n=a[0],r=a[1],o=c.a.useState(!0),i=Object(s.a)(o,2),u=i[0],d=i[1];return c.a.useEffect((function(){var e=localStorage.getItem("JPtechSolutionAccessToken");e?D.get("/user/login",{headers:{authorization:"Bearer ".concat(e)}}).then((function(e){return!e.data.error&&r(e.data)})).finally((function(){return d(!1)})):d(!1)}),[]),u?Object(l.jsx)("h1",{children:"Loading User"}):Object(l.jsx)(w.Provider,{value:{user:n,setUser:r,isUserLoading:u,setIsUserLoading:d},children:e.children})},k=a(156),y=a.n(k),Y=a(167),M=a(335),T=["children","className"],B=function(e){e.children,e.className;var t=Object(S.a)(e,T),a=c.a.useContext(w),n=a.user,r=a.setUser,o=Object(j.f)(),i=c.a.useState(null),u=Object(s.a)(i,2),d=u[0],b=u[1],h=Boolean(d),O=function(){return b(null)};return Object(l.jsxs)("div",Object(g.a)(Object(g.a)({},t),{},{children:[Object(l.jsx)(x.a,{onClick:function(e){if(!n)return o.push("/login");b(e.currentTarget)},children:Object(l.jsx)(y.a,{})}),Object(l.jsxs)(Y.a,{anchorEl:d,open:h,onClose:O,children:[n&&Object(l.jsx)(M.a,{onClick:O,children:n.username}),Object(l.jsx)(M.a,{onClick:function(){r(null),localStorage.removeItem("JPtechSolutionAccessToken")},children:"Logout"})]})]}))},P=function(){var e=c.a.useContext(b),t=e.setIsSidebarOpen,a=e.isSidebarOpen;return Object(l.jsx)(O.a,{position:"static",color:"primary",children:Object(l.jsxs)(p.a,{children:[Object(l.jsx)(x.a,{edge:"start",color:"inherit","aria-label":"menu",onClick:function(){return t(!a)},children:Object(l.jsx)(v.a,{})}),Object(l.jsx)(f.a,{variant:"h6",children:"JPCMS"}),Object(l.jsx)(B,{style:{marginLeft:"auto"}})]})})},E=a(114),L=a.n(E),J=a(344),R=a(333),U=a(323),A=a(324),I=function(){var e=c.a.useContext(b).isSidebarOpen;return Object(l.jsx)("div",{className:"".concat(L.a.wrapper," ").concat(e?L.a.show:L.a.hidden),children:Object(l.jsx)(J.a,{children:Object(l.jsx)(R.a,{disablePadding:!0,children:Object(l.jsx)(U.a,{children:Object(l.jsx)(A.a,{primary:"Jobs"})})})})})},z=a(71),F=a.n(z),W=a(115),V=a(336),K=a(350),H=a(337),q=a(330),Z=a(351),Q=a(339),X=a(23),G=a.n(X),$=a(158),ee=a.n($),te=function(e){var t=e.open,a=e.handleClose,n=e.createJob,r=e.selected,o=e.updateJob,i=e.isUpdate,u=c.a.useState(""),d=Object(s.a)(u,2),j=d[0],b=d[1],h=c.a.useState(""),O=Object(s.a)(h,2),p=O[0],x=O[1],f=c.a.useState(""),m=Object(s.a)(f,2),v=m[0],g=m[1],S=c.a.useState(""),C=Object(s.a)(S,2),_=C[0],D=C[1],w=c.a.useState(""),N=Object(s.a)(w,2),k=N[0],y=N[1],Y=c.a.useState(""),T=Object(s.a)(Y,2),B=T[0],P=T[1],E=c.a.useState(""),L=Object(s.a)(E,2),J=L[0],R=L[1],U=c.a.useState(""),A=Object(s.a)(U,2),I=A[0],z=A[1],F=c.a.useState(""),W=Object(s.a)(F,2),X=W[0],$=W[1],te=c.a.useState(!1),ae=Object(s.a)(te,2),ne=ae[0],ce=ae[1],re=c.a.useState(""),oe=Object(s.a)(re,2),se=oe[0],ie=oe[1],le=c.a.useState(""),ue=Object(s.a)(le,2),de=ue[0],je=ue[1],be=c.a.useState("".concat(G()().format("YYYY"),"-").concat(G()().format("MM"),"-").concat(G()().format("DD"))),he=Object(s.a)(be,2),Oe=he[0],pe=he[1],xe=c.a.useState("".concat(G()().format("YYYY"),"-").concat(G()().format("MM"),"-").concat(G()().format("DD"))),fe=Object(s.a)(xe,2),me=fe[0],ve=fe[1],ge=c.a.useState(""),Se=Object(s.a)(ge,2),Ce=Se[0],_e=Se[1],De=function(){b(""),g(""),D(""),P(""),z(""),ce(""),ie(""),pe("".concat(G()().format("YYYY"),"-").concat(G()().format("MM"),"-").concat(G()().format("DD"))),ve("".concat(G()().format("YYYY"),"-").concat(G()().format("MM"),"-").concat(G()().format("DD"))),_e("")},we=function(){De(),a()},Ne=function(){return n({customerName:j,serialNumber:v,model:_,issues:B,brand:I,status:ne,amount:se,receivedDate:Oe,returnedDate:me,detailedDescription:Ce})},ke=function(){return o({id:r._id,customerName:j,serialNumber:v,model:_,issues:B,brand:I,status:ne,amount:se,receivedDate:Oe,returnedDate:me,detailedDescription:Ce})};return c.a.useEffect((function(){i&&r&&(b(r.customerName),g(r.serialNumber),D(r.model),P(r.issues),z(r.brand),ce(r.status),ie(r.amount),pe("".concat(G()(r.receivedDate).format("YYYY"),"-").concat(G()(r.receivedDate).format("MM"),"-").concat(G()(r.receivedDate).format("DD"))),ve("".concat(G()(r.returnedDate).format("YYYY"),"-").concat(G()(r.returnedDate).format("MM"),"-").concat(G()(r.returnedDate).format("DD"))),_e(r.detailedDescription))}),[i]),Object(l.jsx)(Q.a,{open:t,fullWidth:!0,onClose:we,children:Object(l.jsxs)("div",{className:"add-new-service-wrapper",children:[Object(l.jsx)(V.a,{error:!!p,helperText:p,size:"small",value:j,onChange:function(e){var t=e.currentTarget.value;x(""===t?"Should not be empty":""),b(t)},label:"Customer Name",variant:"outlined"}),Object(l.jsx)(V.a,{size:"small",value:v,onChange:function(e){return g(e.target.value)},label:"Serial Number",variant:"outlined",type:"number"}),Object(l.jsx)(V.a,{error:!!k,helperText:k,size:"small",value:_,onChange:function(e){var t=e.currentTarget.value;y(""===t?"Should not be empty":""),D(t)},label:"Model",variant:"outlined"}),Object(l.jsx)(V.a,{error:!!J,helperText:J,size:"small",value:B,onChange:function(e){var t=e.currentTarget.value;R(""===t?"Should not be empty":""),P(t)},label:"Issues",variant:"outlined"}),Object(l.jsx)(V.a,{error:!!X,helperText:X,size:"small",value:I,onChange:function(e){var t=e.currentTarget.value;$(""===t?"Should not be empty":""),z(t)},label:"Brand",variant:"outlined"}),Object(l.jsxs)(K.a,{variant:"outlined",size:"small",children:[Object(l.jsx)(H.a,{id:"demo-simple-select-outlined-label",children:"Status"}),Object(l.jsxs)(q.a,{value:!0===ne?"resolved":"returned",onChange:function(e){return ce("resolved"===e.target.value)},children:[Object(l.jsx)(M.a,{value:"resolved",children:"Resolved"}),Object(l.jsx)(M.a,{value:"returned",children:"Return"})]})]}),Object(l.jsx)(V.a,{error:!!de,helperText:de,type:"number",size:"small",value:se,onChange:function(e){var t=e.currentTarget.value;je(""===t?"Should not be empty":""),ie(t)},label:"Amount",variant:"outlined"}),Object(l.jsx)(V.a,{id:"date",label:"Received Date",type:"date",defaultValue:Oe,InputLabelProps:{shrink:!0},onChange:function(e){return pe(e.target.value)}}),Object(l.jsx)(V.a,{id:"date",label:"Returned Date",type:"date",defaultValue:me,InputLabelProps:{shrink:!0},onChange:function(e){return ve(e.target.value)}}),Object(l.jsx)(V.a,{value:Ce,onChange:function(e){return _e(e.target.value)},size:"small",label:"Detailed Description",multiline:!0,variant:"outlined"}),Object(l.jsxs)("div",{className:ee.a.actionWrapper,children:[Object(l.jsx)(Z.a,{onClick:we,children:" Close "}),Object(l.jsx)(Z.a,{disabled:k||p||J||de,variant:"contained",onClick:function(){i?ke().then((function(){return De()})):Ne().then((function(){return De()}))},children:i?"Update":"Add New Job"})]})]})})},ae=a(352),ne=a(160),ce=a.n(ne),re=a(159),oe=a.n(re),se=function(e){var t=e.addNew;return Object(l.jsxs)(ae.a,{display:"flex",className:oe.a.wrapper,justifyContent:"space-between",alignItems:"center",children:[Object(l.jsx)("h3",{children:"Jobs"}),Object(l.jsx)(x.a,{onClick:t,color:"primary","aria-label":"upload picture",component:"span",children:Object(l.jsx)(ce.a,{})})]})},ie=["open","handleClose","job"],le=function(e){var t=e.open,a=e.handleClose,n=e.job;Object(S.a)(e,ie);return n?Object(l.jsx)(Q.a,{open:t,fullWidth:!0,onClose:function(){a()},children:Object(l.jsxs)(ae.a,{padding:"30px",children:[Object(l.jsxs)("div",{children:[Object(l.jsx)(f.a,{variant:"overline",display:"block",gutterBottom:!0,children:"Customer name"}),Object(l.jsx)(f.a,{variant:"h6",gutterBottom:!0,component:"div",children:n.customerName})]}),Object(l.jsxs)("div",{children:[Object(l.jsx)(f.a,{variant:"overline",display:"block",gutterBottom:!0,children:"Model Number"}),Object(l.jsx)(f.a,{variant:"h6",gutterBottom:!0,component:"div",children:n.model})]}),Object(l.jsxs)("div",{children:[Object(l.jsx)(f.a,{variant:"overline",display:"block",gutterBottom:!0,children:"Received Date"}),Object(l.jsx)(f.a,{variant:"h6",gutterBottom:!0,component:"div",children:G()(n.receivedDate).format("Do MMM YY")})]}),Object(l.jsxs)("div",{children:[Object(l.jsx)(f.a,{variant:"overline",display:"block",gutterBottom:!0,children:"Returned Date"}),Object(l.jsx)(f.a,{variant:"h6",gutterBottom:!0,component:"div",children:G()(n.returnedDate).format("Do MMM YY")})]}),Object(l.jsxs)("div",{children:[Object(l.jsx)(f.a,{variant:"overline",display:"block",gutterBottom:!0,children:"Amount"}),Object(l.jsx)(f.a,{variant:"h6",gutterBottom:!0,component:"div",children:n.amount})]}),Object(l.jsxs)("div",{children:[Object(l.jsx)(f.a,{variant:"overline",display:"block",gutterBottom:!0,children:"Description"}),Object(l.jsx)(f.a,{variant:"h6",gutterBottom:!0,component:"div",children:n.detailedDescription})]})]})}):null},ue=a(354),de=a(358),je=a(357),be=a(355),he=a(353),Oe=a(356),pe=a(24),xe=a.n(pe),fe=a(161),me=a.n(fe),ve=c.a.createContext(null),ge=function(e){var t=e.children,a=c.a.useState(null),n=Object(s.a)(a,2),r=n[0],o=n[1],i=function(e){o(window.innerWidth)};return c.a.useEffect((function(){return window.addEventListener("resize",i),function(){return window.removeEventListener("resize",i)}}),[]),Object(l.jsx)(ve.Provider,{value:{width:r},children:t})},Se=function(e){var t=c.a.useContext(ve).width,a=c.a.useState(null),n=Object(s.a)(a,2),r=n[0],o=n[1];return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(he.a,{className:"".concat(xe.a.wrapper),children:Object(l.jsxs)(ue.a,{children:[Object(l.jsx)(be.a,{children:Object(l.jsxs)(Oe.a,{children:[Object(l.jsx)(je.a,{className:"".concat(xe.a.cell," ").concat(xe.a.th),children:"Customer Name"}),t>600&&Object(l.jsx)(je.a,{className:"".concat(xe.a.cell," ").concat(xe.a.th),children:"Serial Number"}),t>600&&Object(l.jsx)(je.a,{className:"".concat(xe.a.cell," ").concat(xe.a.th),children:"Rec Date"}),t>600&&Object(l.jsx)(je.a,{className:"".concat(xe.a.cell," ").concat(xe.a.th),children:"Ret Date"}),t>600&&Object(l.jsx)(je.a,{className:"".concat(xe.a.cell," ").concat(xe.a.th),children:"Amount"}),Object(l.jsx)(je.a,{className:"".concat(xe.a.cell," ").concat(xe.a.th)})]})}),Object(l.jsx)(de.a,{children:e.jobs.map((function(a){return Object(l.jsxs)(Oe.a,{children:[Object(l.jsx)(je.a,{className:xe.a.td,component:"th",scope:"row",children:a.customerName}),t>600&&Object(l.jsx)(je.a,{className:"".concat(xe.a.cell," ").concat(xe.a.th),children:a.serialNumber}),t>600&&Object(l.jsx)(je.a,{className:"".concat(xe.a.cell," ").concat(xe.a.th),children:G()(a.receivedDate).format("Do MMM YY")}),t>600&&Object(l.jsx)(je.a,{className:"".concat(xe.a.cell," ").concat(xe.a.th),children:G()(a.returnedDate).format("Do MMM YY")}),t>600&&Object(l.jsx)(je.a,{className:"".concat(xe.a.cell," ").concat(xe.a.th),children:a.amount}),Object(l.jsx)(je.a,{className:"".concat(xe.a.td," ").concat(xe.a.opt_cell),component:"th",scope:"row",children:Object(l.jsx)(me.a,{onClick:function(t){return function(t,a){o(t.target),e.selected.current=a}(t,a)}})})]},a._id)}))})]})}),Object(l.jsxs)(Y.a,{id:"simple-menu",anchorEl:r,keepMounted:!0,open:Boolean(r),onClose:function(){return o(null)},children:[Object(l.jsx)(M.a,{onClick:function(){e.handleViewJob(),o(null)},children:"View"}),Object(l.jsx)(M.a,{onClick:function(){e.handleUpdate(),o(null)},children:"Update"}),Object(l.jsx)(M.a,{onClick:function(){e.handleDelete(),o(null)},children:"Delete"})]})]})},Ce=function(){var e=c.a.useState(!1),t=Object(s.a)(e,2),a=t[0],n=t[1],r=c.a.useState(!1),o=Object(s.a)(r,2),i=o[0],u=o[1],d=c.a.useState(!1),j=Object(s.a)(d,2),b=j[0],h=j[1],O=c.a.useState([]),p=Object(s.a)(O,2),x=p[0],f=p[1],m=function(){u(!1),a&&n(!1)},v=function(){return u(!0)},S=c.a.useRef(null),C=function(){var e=Object(W.a)(F.a.mark((function e(t){var a,n;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.post("/service",Object(g.a)({},t));case 2:if((a=e.sent).error){e.next=9;break}return m(),e.next=7,D.get("/service");case 7:n=e.sent,f(n.data.result);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=function(){var e=Object(W.a)(F.a.mark((function e(t){var a,c;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.put("/service",Object(g.a)({},t));case 2:if((a=e.sent).error){e.next=10;break}return m(),e.next=7,D.get("/service");case 7:c=e.sent,f(c.data.result),S.current=null;case 10:return n(!1),e.abrupt("return",a);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=Object(W.a)(F.a.mark((function e(){var t;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.delete("/service/".concat(S.current._id));case 2:return e.next=4,D.get("/service");case 4:t=e.sent,f(t.data.result);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return c.a.useEffect((function(){D.get("/service").then((function(e){f(e.data.result)}))}),[]),Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(se,{addNew:v}),Object(l.jsx)(Se,{jobs:x,selected:S,handleViewJob:function(){h(!0)},handleUpdate:function(){v(),n(!0)},handleDelete:function(){w()}}),Object(l.jsx)(te,{open:i,handleClose:m,createJob:C,updateJob:_,selected:S.current,isUpdate:a}),Object(l.jsx)(le,{open:b,handleClose:function(){h(!1),S.current=null},job:S.current})]})},_e=a(162),De=a.n(_e),we=function(){return Object(l.jsx)("div",{className:De.a.wrapper,children:Object(l.jsx)(j.c,{children:Object(l.jsx)(j.a,{exact:!0,path:"/",component:Ce})})})},Ne=a(163),ke=a.n(Ne),ye=function(){var e=c.a.useContext(w).user,t=Object(j.f)();return c.a.useEffect((function(){e||t.push("/login")}),[t,e]),Object(l.jsxs)(h,{children:[Object(l.jsx)(P,{}),Object(l.jsxs)("div",{className:"".concat(ke.a.content_wrapper),children:[Object(l.jsx)(I,{}),Object(l.jsx)(we,{})]})]})},Ye=a(328),Me=a(313),Te=a(326),Be=a(331),Pe=function(){var e=Object(j.f)(),t=c.a.useState(""),a=Object(s.a)(t,2),n=a[0],r=a[1],o=c.a.useState(""),i=Object(s.a)(o,2),u=i[0],d=i[1],b=c.a.useContext(w),h=b.user,O=b.setUser;return c.a.useEffect((function(){h&&e.push("/")})),Object(l.jsx)(Ye.a,{padding:10,children:Object(l.jsx)(Me.a,{children:Object(l.jsxs)(Ye.a,{display:"flex",flexDirection:"column",padding:10,children:[Object(l.jsx)(Te.a,{label:"username",value:n,variant:"outlined",onChange:function(e){return r(e.target.value)}}),Object(l.jsx)(Te.a,{type:"password",label:"password",value:u,variant:"outlined",onChange:function(e){return d(e.target.value)}}),Object(l.jsx)(Be.a,{onClick:function(){D.post("/user/login",{username:n,password:u}).then((function(e){console.log(e),e.data.error||O(e.data.user)}))},children:"Login"})]})})})},Ee=function(){return Object(l.jsxs)(j.c,{children:[Object(l.jsx)(j.a,{exact:!0,path:"/login",component:Pe}),Object(l.jsx)(j.a,{exact:!0,path:"/",component:ye})]})},Le=a(334),Je=a(325),Re=a(166),Ue=Object(Re.a)({palette:{primary:{main:"#0052cc"},secondary:{main:"#edf2ff"}}}),Ae=function(e){var t=e.children;return Object(l.jsxs)(Le.a,{theme:Ue,children:[Object(l.jsx)(Je.a,{}),t]})},Ie=a(132),ze=function(e){var t=e.children;return Object(l.jsxs)(Ie.b,{children:[Object(l.jsx)(Ie.a,{children:Object(l.jsx)("title",{children:"CMS"})}),t]})};var Fe=function(){return Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)(ge,{children:[Object(l.jsx)(ze,{}),Object(l.jsx)(Ae,{children:Object(l.jsx)(N,{children:Object(l.jsx)(d.a,{children:Object(l.jsx)(u,{children:Object(l.jsx)(Ee,{})})})})})]})})},We=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,361)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,o=t.getTTFB;a(e),n(e),c(e),r(e),o(e)}))};o.a.render(Object(l.jsx)(c.a.StrictMode,{children:Object(l.jsx)(Fe,{})}),document.getElementById("root")),We()}},[[248,1,2]]]);
//# sourceMappingURL=main.1ce84eb3.chunk.js.map