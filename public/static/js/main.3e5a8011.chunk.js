(this.webpackJsonpjptech=this.webpackJsonpjptech||[]).push([[0],{247:function(e,t,a){e.exports={content:"job_content__1AdaG"}},359:function(e,t,a){e.exports={wrapper:"sidebar_wrapper__1TluO"}},361:function(e,t,a){e.exports={wrapper:"header_wrapper__2Ks2h"}},378:function(e,t,a){e.exports={wrapper:"content_wrapper__3SaDL"}},396:function(e,t,a){},397:function(e,t,a){},485:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(16),s=a.n(c),o=(a(396),a(397),a(30)),u=a(509),i=a(7),l=function(e){var t=r.a.useState(""),a=Object(o.a)(t,2),n=a[0],c=a[1],s=r.a.createContext("");return Object(i.jsxs)(s.Provider,{value:{notify:function(e){c(e),setTimeout((function(){return c("")}),7e3)}},children:[e.children,Object(i.jsx)(u.a,{open:!!n,autoHideDuration:6e3,message:n})]})},j=a(181),d=a(25),b=a(511),f=a(323),O=a(236),p=a(91),h=a(237),x=a.n(h),m=a(17),v=a(379),g=a(357),w=a.n(g).a.create({baseURL:"https://jpcms.herokuapp.com/"});w.interceptors.request.use((function(e){var t=localStorage.getItem("JPtechSolutionAccessToken");return t&&(e.headers.authorization="Bearer ".concat(t)),e})),w.interceptors.response.use((function(e){var t=e.headers.authorization;return t&&localStorage.setItem("JPtechSolutionAccessToken",t.split(" ")[1]),e}));var S=w,D=r.a.createContext(null),C=function(e){var t=r.a.useState(null),a=Object(o.a)(t,2),n=a[0],c=a[1],s=r.a.useState(!0),u=Object(o.a)(s,2),l=u[0],j=u[1];return r.a.useEffect((function(){var e=localStorage.getItem("JPtechSolutionAccessToken");e?S.get("/user/login",{headers:{authorization:"Bearer ".concat(e)}}).then((function(e){return!e.data.error&&c(e.data)})).finally((function(){return j(!1)})):j(!1)}),[]),l?Object(i.jsx)("h1",{children:"Loading User"}):Object(i.jsx)(D.Provider,{value:{user:n,setUser:c,isUserLoading:l,setIsUserLoading:j},children:e.children})},N=a(322),R=["children","className"],_=function(e){e.children,e.className;var t=Object(v.a)(e,R),a=r.a.useContext(D),n=a.user,c=a.setUser,s=Object(d.f)();return Object(i.jsx)("div",Object(m.a)(Object(m.a)({},t),{},{children:Object(i.jsx)(N.a,{onClick:function(){n&&(c(null),localStorage.removeItem("JPtechSolutionAccessToken")),s.push("/login")},children:n?n.username:"login"})}))},k=function(){return Object(i.jsx)(b.a,{position:"static",children:Object(i.jsxs)(f.a,{children:[Object(i.jsx)(O.a,{edge:"start",color:"inherit","aria-label":"menu",children:Object(i.jsx)(x.a,{})}),Object(i.jsx)(p.a,{variant:"h6",children:"JPCMS"}),Object(i.jsx)(_,{style:{marginLeft:"auto"}})]})})},P=a(359),Y=a.n(P),M=function(){return Object(i.jsx)("div",{className:Y.a.wrapper,children:Object(i.jsx)("h5",{children:"Sidebar"})})},T=a(105),A=a.n(T),E=a(202),L=a(512),U=a(324),y=a(238),I=a(239),J=a(244),z=a(325),F=a(49),B=a.n(F),H=function(e){var t=e.open,a=e.handleClose,c=e.createJob,s=e.selected,u=e.updateJob,l=e.isUpdate,j=r.a.useState(""),d=Object(o.a)(j,2),b=d[0],f=d[1],O=r.a.useState(""),p=Object(o.a)(O,2),h=p[0],x=p[1],m=r.a.useState(""),v=Object(o.a)(m,2),g=v[0],w=v[1],S=r.a.useState(""),D=Object(o.a)(S,2),C=D[0],R=D[1],_=r.a.useState(""),k=Object(o.a)(_,2),P=k[0],Y=k[1],M=r.a.useState(!1),T=Object(o.a)(M,2),A=T[0],E=T[1],F=r.a.useState(""),H=Object(o.a)(F,2),K=H[0],V=H[1],W=r.a.useState("".concat(B()().format("YYYY"),"-").concat(B()().format("MM"),"-").concat(B()().format("DD"))),q=Object(o.a)(W,2),G=q[0],Q=q[1],X=r.a.useState("".concat(B()().format("YYYY"),"-").concat(B()().format("MM"),"-").concat(B()().format("DD"))),Z=Object(o.a)(X,2),$=Z[0],ee=Z[1],te=r.a.useState(""),ae=Object(o.a)(te,2),ne=ae[0],re=ae[1];return Object(n.useEffect)((function(){l&&s&&(f(s.customerName),x(s.serialNumber),w(s.model),R(s.issues),Y(s.brand),E(s.status),V(s.amount),Q("".concat(B()(s.receivedDate).format("YYYY"),"-").concat(B()(s.receivedDate).format("MM"),"-").concat(B()(s.receivedDate).format("DD"))),ee("".concat(B()(s.returnedDate).format("YYYY"),"-").concat(B()(s.returnedDate).format("MM"),"-").concat(B()(s.returnedDate).format("DD"))),re(s.detailedDescription))}),[l]),Object(i.jsx)(L.a,{open:t,onClose:a,children:Object(i.jsxs)("div",{className:"add-new-service-wrapper",children:[Object(i.jsx)(U.a,{size:"small",value:b,onChange:function(e){return f(e.target.value)},label:"Customer Name",variant:"outlined"}),Object(i.jsx)(U.a,{size:"small",value:h,onChange:function(e){return x(e.target.value)},label:"Serial Number",variant:"outlined",type:"number"}),Object(i.jsx)(U.a,{size:"small",value:g,onChange:function(e){return w(e.target.value)},label:"Model",variant:"outlined"}),Object(i.jsx)(U.a,{size:"small",value:C,onChange:function(e){return R(e.target.value)},label:"Issues",variant:"outlined"}),Object(i.jsx)(U.a,{size:"small",value:P,onChange:function(e){return Y(e.target.value)},label:"Brand",variant:"outlined"}),Object(i.jsxs)(y.a,{variant:"outlined",size:"small",children:[Object(i.jsx)(I.a,{id:"demo-simple-select-outlined-label",children:"Status"}),Object(i.jsxs)(J.a,{value:!0===A?"resolved":"returned",onChange:function(e){return E("resolved"===e.target.value)},children:[Object(i.jsx)(z.a,{value:"resolved",children:"Resolved"}),Object(i.jsx)(z.a,{value:"returned",children:"Return"})]})]}),Object(i.jsx)(U.a,{size:"small",value:K,onChange:function(e){return V(e.target.value)},label:"Amount",variant:"outlined"}),Object(i.jsx)(U.a,{id:"date",label:"Received Date",type:"date",defaultValue:G,InputLabelProps:{shrink:!0},onChange:function(e){console.log("LOCAL",e.target.value),Q(e.target.value)}}),Object(i.jsx)(U.a,{id:"date",label:"Returned Date",type:"date",defaultValue:$,InputLabelProps:{shrink:!0},onChange:function(e){return ee(e.target.value)}}),Object(i.jsx)(U.a,{value:ne,onChange:function(e){return re(e.target.value)},size:"small",label:"Detailed Description",multiline:!0,variant:"outlined"}),l?Object(i.jsx)(N.a,{onClick:function(){u({id:s._id,customerName:b,serialNumber:h,model:g,issues:C,brand:P,status:A,amount:K,receivedDate:G,returnedDate:$,detailedDescription:ne})},children:"Update"}):Object(i.jsx)(N.a,{onClick:function(){c({customerName:b,serialNumber:h,model:g,issues:C,brand:P,status:A,amount:K,receivedDate:G,returnedDate:$,detailedDescription:ne})},children:"Add New Job"})]})})},K=a(232),V=a(361),W=a.n(V),q=function(e){var t=e.addNew;return Object(i.jsxs)(K.a,{display:"flex",className:W.a.wrapper,justifyContent:"space-between",alignItems:"center",children:[Object(i.jsx)("h1",{children:"Jobs"}),Object(i.jsx)(N.a,{onClick:t,variant:"contained",children:"Add New"})]})},G=a(247),Q=a.n(G),X=a(243),Z=a.n(X),$=a(377),ee=a.n($),te=a(364),ae=a.n(te),ne=a(374),re=a.n(ne),ce=a(365),se=a.n(ce),oe=a(372),ue=a.n(oe),ie=a(249),le=a.n(ie),je=a(248),de=a.n(je),be=a(366),fe=a.n(be),Oe=a(367),pe=a.n(Oe),he=a(369),xe=a.n(he),me=a(370),ve=a.n(me),ge=a(371),we=a.n(ge),Se=a(375),De=a.n(Se),Ce=a(368),Ne=a.n(Ce),Re=a(373),_e=a.n(Re),ke=a(376),Pe=a.n(ke),Ye=a(179),Me=function(){var e,t=r.a.useState(!1),a=Object(o.a)(t,2),c=a[0],s=a[1],u=r.a.useState(!1),l=Object(o.a)(u,2),j=l[0],d=l[1],b=r.a.useState([]),f=Object(o.a)(b,2),O=f[0],p=f[1],h=function(){d(!1),c&&s(!1)},x=function(){return d(!0)},v=r.a.useRef(null),g=r.a.useState(null),w=Object(o.a)(g,2),D=w[0],C=w[1],N={Add:Object(n.forwardRef)((function(e,t){return Object(i.jsx)(ae.a,Object(m.a)(Object(m.a)({},e),{},{ref:t}))})),Check:Object(n.forwardRef)((function(e,t){return Object(i.jsx)(se.a,Object(m.a)(Object(m.a)({},e),{},{ref:t}))})),Clear:Object(n.forwardRef)((function(e,t){return Object(i.jsx)(de.a,Object(m.a)(Object(m.a)({},e),{},{ref:t}))})),Delete:Object(n.forwardRef)((function(e,t){return Object(i.jsx)(fe.a,Object(m.a)(Object(m.a)({},e),{},{ref:t}))})),DetailPanel:Object(n.forwardRef)((function(e,t){return Object(i.jsx)(le.a,Object(m.a)(Object(m.a)({},e),{},{ref:t}))})),Edit:Object(n.forwardRef)((function(e,t){return Object(i.jsx)(pe.a,Object(m.a)(Object(m.a)({},e),{},{ref:t}))})),Export:Object(n.forwardRef)((function(e,t){return Object(i.jsx)(Ne.a,Object(m.a)(Object(m.a)({},e),{},{ref:t}))})),Filter:Object(n.forwardRef)((function(e,t){return Object(i.jsx)(xe.a,Object(m.a)(Object(m.a)({},e),{},{ref:t}))})),FirstPage:Object(n.forwardRef)((function(e,t){return Object(i.jsx)(ve.a,Object(m.a)(Object(m.a)({},e),{},{ref:t}))})),LastPage:Object(n.forwardRef)((function(e,t){return Object(i.jsx)(we.a,Object(m.a)(Object(m.a)({},e),{},{ref:t}))})),NextPage:Object(n.forwardRef)((function(e,t){return Object(i.jsx)(le.a,Object(m.a)(Object(m.a)({},e),{},{ref:t}))})),PreviousPage:Object(n.forwardRef)((function(e,t){return Object(i.jsx)(ue.a,Object(m.a)(Object(m.a)({},e),{},{ref:t}))})),ResetSearch:Object(n.forwardRef)((function(e,t){return Object(i.jsx)(de.a,Object(m.a)(Object(m.a)({},e),{},{ref:t}))})),Search:Object(n.forwardRef)((function(e,t){return Object(i.jsx)(_e.a,Object(m.a)(Object(m.a)({},e),{},{ref:t}))})),SortArrow:Object(n.forwardRef)((function(e,t){return Object(i.jsx)(re.a,Object(m.a)(Object(m.a)({},e),{},{ref:t}))})),ThirdStateCheck:Object(n.forwardRef)((function(e,t){return Object(i.jsx)(De.a,Object(m.a)(Object(m.a)({},e),{},{ref:t}))})),ViewColumn:Object(n.forwardRef)((function(e,t){return Object(i.jsx)(Pe.a,Object(m.a)(Object(m.a)({},e),{},{ref:t}))}))},R=function(){var e=Object(E.a)(A.a.mark((function e(t){var a;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.post("/service",Object(m.a)({},t));case 2:if(e.sent.error){e.next=9;break}return h(),e.next=7,S.get("/service");case 7:a=e.sent,p(a.data.result);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=function(){var e=Object(E.a)(A.a.mark((function e(t){var a;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.put("/service",Object(m.a)({},t));case 2:if(e.sent.error){e.next=10;break}return h(),e.next=7,S.get("/service");case 7:a=e.sent,p(a.data.result),v.current=null;case 10:s(!1);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=Object(E.a)(A.a.mark((function e(){var t;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.delete("/service/".concat(v.current._id));case 2:return e.next=4,S.get("/service");case 4:t=e.sent,p(t.data.result),C(null);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.useEffect((function(){S.get("/service").then((function(e){p(e.data.result)}))}),[]),Object(i.jsxs)("div",{className:Q.a.content,children:[Object(i.jsx)(q,{addNew:x}),Object(i.jsx)(Z.a,{options:{search:!1,showTitle:!1,toolbar:!1},icons:N,className:Q.a.wrapper,columns:[{field:"customerName",title:"Customer Name"},{field:"serialNumber",title:"Sr.No"},{field:"model",title:"Model"},{field:"receivedDate",title:"Rec Date"},{field:"returnedDate",title:"Ret Date"},{field:"amount",title:"Amount"}],data:(e=O,e.map((function(e){return{id:e._id,serialNumber:e.serialNumber,customerName:e.customerName,model:e.model,issue:e.issues,brand:e.brand,receivedDate:B()(e.receivedDate).format("Do MMM YY"),returnedDate:B()(e.returnedDate).format("Do MMM YY"),detailedDescription:e.detailedDescription,amount:e.amount}}))),actions:[{icon:function(){return Object(i.jsx)(ee.a,{})},tooltip:"Save User",onClick:function(e,t){C(e.target),S.get("/service/".concat(t.id)).then((function(e){v.current=e.data.result}))}}]}),Object(i.jsx)(H,{open:j,handleClose:h,createJob:R,updateJob:_,selected:v.current,isUpdate:c}),Object(i.jsxs)(Ye.a,{id:"simple-menu",anchorEl:D,keepMounted:!0,open:Boolean(D),onClose:function(){return C(null)},children:[Object(i.jsx)(z.a,{onClick:k,children:"Delete"}),Object(i.jsx)(z.a,{onClick:function(){C(null),x(),s(!0)},children:"Update"})]})]})},Te=a(378),Ae=a.n(Te),Ee=function(){return Object(i.jsx)("div",{className:Ae.a.wrapper,children:Object(i.jsx)(d.c,{children:Object(i.jsx)(d.a,{exact:!0,path:"/",component:Me})})})},Le=function(){var e=r.a.useContext(D).user,t=Object(d.f)();return r.a.useEffect((function(){e||t.push("/login")}),[]),Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(k,{}),Object(i.jsxs)("div",{className:"content-wrapper",children:[Object(i.jsx)(M,{}),Object(i.jsx)(Ee,{})]})]})},Ue=a(124),ye=function(){var e=Object(d.f)(),t=r.a.useState(""),a=Object(o.a)(t,2),n=a[0],c=a[1],s=r.a.useState(""),u=Object(o.a)(s,2),l=u[0],j=u[1],b=r.a.useContext(D),f=b.user,O=b.setUser;return r.a.useEffect((function(){f&&e.push("/")})),Object(i.jsx)(K.a,{padding:10,children:Object(i.jsx)(Ue.a,{children:Object(i.jsxs)(K.a,{display:"flex",flexDirection:"column",padding:10,children:[Object(i.jsx)(U.a,{label:"username",value:n,variant:"outlined",onChange:function(e){return c(e.target.value)}}),Object(i.jsx)(U.a,{type:"password",label:"password",value:l,variant:"outlined",onChange:function(e){return j(e.target.value)}}),Object(i.jsx)(N.a,{onClick:function(){S.post("/user/login",{username:n,password:l}).then((function(e){console.log(e),e.data.error||O(e.data.user)}))},children:"Login"})]})})})},Ie=function(){return Object(i.jsxs)(d.c,{children:[console.log(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_URL:"https://jpcms.herokuapp.com/"})),Object(i.jsx)(d.a,{exact:!0,path:"/login",component:ye}),Object(i.jsx)(d.a,{exact:!0,path:"/",component:Le})]})};var Je=function(){return Object(i.jsx)(C,{children:Object(i.jsx)(j.a,{children:Object(i.jsx)(l,{children:Object(i.jsx)(Ie,{})})})})},ze=function(e){e&&e instanceof Function&&a.e(6).then(a.bind(null,910)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;a(e),n(e),r(e),c(e),s(e)}))};s.a.render(Object(i.jsx)(r.a.StrictMode,{children:Object(i.jsx)(Je,{})}),document.getElementById("root")),ze()}},[[485,1,2]]]);
//# sourceMappingURL=main.3e5a8011.chunk.js.map