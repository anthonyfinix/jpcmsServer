(this.webpackJsonpjptech=this.webpackJsonpjptech||[]).push([[0],{248:function(e,t,n){e.exports={content:"job_content__1AdaG"}},360:function(e,t,n){e.exports={wrapper:"sidebar_wrapper__1TluO"}},362:function(e,t,n){e.exports={wrapper:"header_wrapper__2Ks2h"}},379:function(e,t,n){e.exports={wrapper:"content_wrapper__3SaDL"}},396:function(e,t,n){},397:function(e,t,n){},485:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(16),o=n.n(c),s=(n(396),n(397),n(29)),i=n(509),u=n(6),l=function(e){var t=r.a.useState(""),n=Object(s.a)(t,2),a=n[0],c=n[1],o=r.a.createContext("");return Object(u.jsxs)(o.Provider,{value:{notify:function(e){c(e),setTimeout((function(){return c("")}),7e3)}},children:[e.children,Object(u.jsx)(i.a,{open:!!a,autoHideDuration:6e3,message:a})]})},j=n(181),d=n(25),b=n(511),f=n(324),O=n(237),h=n(91),p=n(238),x=n.n(p),m=n(17),v=n(199),g=n(358),D=n.n(g).a.create({baseURL:"https://jpcms.herokuapp.com/"});D.interceptors.request.use((function(e){var t=localStorage.getItem("JPtechSolutionAccessToken");return t&&(e.headers.authorization="Bearer ".concat(t)),e})),D.interceptors.response.use((function(e){var t=e.headers.authorization;return t&&localStorage.setItem("JPtechSolutionAccessToken",t.split(" ")[1]),e}));var C=D,w=r.a.createContext(null),S=function(e){var t=r.a.useState(null),n=Object(s.a)(t,2),a=n[0],c=n[1],o=r.a.useState(!0),i=Object(s.a)(o,2),l=i[0],j=i[1];return r.a.useEffect((function(){var e=localStorage.getItem("JPtechSolutionAccessToken");e?C.get("/user/login",{headers:{authorization:"Bearer ".concat(e)}}).then((function(e){return!e.data.error&&c(e.data)})).finally((function(){return j(!1)})):j(!1)}),[]),l?Object(u.jsx)("h1",{children:"Loading User"}):Object(u.jsx)(w.Provider,{value:{user:a,setUser:c,isUserLoading:l,setIsUserLoading:j},children:e.children})},N=n(323),R=["children","className"],Y=function(e){e.children,e.className;var t=Object(v.a)(e,R),n=r.a.useContext(w),a=n.user,c=n.setUser,o=Object(d.f)();return Object(u.jsx)("div",Object(m.a)(Object(m.a)({},t),{},{children:Object(u.jsx)(N.a,{onClick:function(){a&&(c(null),localStorage.removeItem("JPtechSolutionAccessToken")),o.push("/login")},children:a?a.username:"login"})}))},M=function(){return Object(u.jsx)(b.a,{position:"static",children:Object(u.jsxs)(f.a,{children:[Object(u.jsx)(O.a,{edge:"start",color:"inherit","aria-label":"menu",children:Object(u.jsx)(x.a,{})}),Object(u.jsx)(h.a,{variant:"h6",children:"JPCMS"}),Object(u.jsx)(Y,{style:{marginLeft:"auto"}})]})})},k=n(360),_=n.n(k),P=function(){return Object(u.jsx)("div",{className:_.a.wrapper,children:Object(u.jsx)("h5",{children:"Sidebar"})})},y=n(105),T=n.n(y),A=n(203),E=n(512),L=n(325),U=n(239),I=n(240),J=n(245),z=n(326),F=n(30),W=n.n(F),B=function(e){var t=e.open,n=e.handleClose,c=e.createJob,o=e.selected,i=e.updateJob,l=e.isUpdate,j=r.a.useState(""),d=Object(s.a)(j,2),b=d[0],f=d[1],O=r.a.useState(""),h=Object(s.a)(O,2),p=h[0],x=h[1],m=r.a.useState(""),v=Object(s.a)(m,2),g=v[0],D=v[1],C=r.a.useState(""),w=Object(s.a)(C,2),S=w[0],R=w[1],Y=r.a.useState(""),M=Object(s.a)(Y,2),k=M[0],_=M[1],P=r.a.useState(!1),y=Object(s.a)(P,2),T=y[0],A=y[1],F=r.a.useState(""),B=Object(s.a)(F,2),V=B[0],H=B[1],K=r.a.useState("".concat(W()().format("YYYY"),"-").concat(W()().format("MM"),"-").concat(W()().format("DD"))),q=Object(s.a)(K,2),G=q[0],Q=q[1],X=r.a.useState("".concat(W()().format("YYYY"),"-").concat(W()().format("MM"),"-").concat(W()().format("DD"))),Z=Object(s.a)(X,2),$=Z[0],ee=Z[1],te=r.a.useState(""),ne=Object(s.a)(te,2),ae=ne[0],re=ne[1],ce=function(){f(""),x(""),D(""),R(""),_(""),A(""),H(""),Q("".concat(W()().format("YYYY"),"-").concat(W()().format("MM"),"-").concat(W()().format("DD"))),ee("".concat(W()().format("YYYY"),"-").concat(W()().format("MM"),"-").concat(W()().format("DD"))),re("")},oe=function(){l?ie().then((function(){return ce()})):se().then((function(){return ce()}))},se=function(){return c({customerName:b,serialNumber:p,model:g,issues:S,brand:k,status:T,amount:V,receivedDate:G,returnedDate:$,detailedDescription:ae})},ie=function(){return i({id:o._id,customerName:b,serialNumber:p,model:g,issues:S,brand:k,status:T,amount:V,receivedDate:G,returnedDate:$,detailedDescription:ae})};return Object(a.useEffect)((function(){l&&o&&(f(o.customerName),x(o.serialNumber),D(o.model),R(o.issues),_(o.brand),A(o.status),H(o.amount),Q("".concat(W()(o.receivedDate).format("YYYY"),"-").concat(W()(o.receivedDate).format("MM"),"-").concat(W()(o.receivedDate).format("DD"))),ee("".concat(W()(o.returnedDate).format("YYYY"),"-").concat(W()(o.returnedDate).format("MM"),"-").concat(W()(o.returnedDate).format("DD"))),re(o.detailedDescription))}),[l]),Object(u.jsx)(E.a,{open:t,onClose:function(){ce(),n()},children:Object(u.jsxs)("div",{className:"add-new-service-wrapper",children:[Object(u.jsx)(L.a,{size:"small",value:b,onChange:function(e){return f(e.target.value)},label:"Customer Name",variant:"outlined"}),Object(u.jsx)(L.a,{size:"small",value:p,onChange:function(e){return x(e.target.value)},label:"Serial Number",variant:"outlined",type:"number"}),Object(u.jsx)(L.a,{size:"small",value:g,onChange:function(e){return D(e.target.value)},label:"Model",variant:"outlined"}),Object(u.jsx)(L.a,{size:"small",value:S,onChange:function(e){return R(e.target.value)},label:"Issues",variant:"outlined"}),Object(u.jsx)(L.a,{size:"small",value:k,onChange:function(e){return _(e.target.value)},label:"Brand",variant:"outlined"}),Object(u.jsxs)(U.a,{variant:"outlined",size:"small",children:[Object(u.jsx)(I.a,{id:"demo-simple-select-outlined-label",children:"Status"}),Object(u.jsxs)(J.a,{value:!0===T?"resolved":"returned",onChange:function(e){return A("resolved"===e.target.value)},children:[Object(u.jsx)(z.a,{value:"resolved",children:"Resolved"}),Object(u.jsx)(z.a,{value:"returned",children:"Return"})]})]}),Object(u.jsx)(L.a,{size:"small",value:V,onChange:function(e){return H(e.target.value)},label:"Amount",variant:"outlined"}),Object(u.jsx)(L.a,{id:"date",label:"Received Date",type:"date",defaultValue:G,InputLabelProps:{shrink:!0},onChange:function(e){return Q(e.target.value)}}),Object(u.jsx)(L.a,{id:"date",label:"Returned Date",type:"date",defaultValue:$,InputLabelProps:{shrink:!0},onChange:function(e){return ee(e.target.value)}}),Object(u.jsx)(L.a,{value:ae,onChange:function(e){return re(e.target.value)},size:"small",label:"Detailed Description",multiline:!0,variant:"outlined"}),l?Object(u.jsx)(N.a,{onClick:oe,children:"Update"}):Object(u.jsx)(N.a,{onClick:oe,children:"Add New Job"})]})})},V=n(233),H=n(362),K=n.n(H),q=function(e){var t=e.addNew;return Object(u.jsxs)(V.a,{display:"flex",className:K.a.wrapper,justifyContent:"space-between",alignItems:"center",children:[Object(u.jsx)("h1",{children:"Jobs"}),Object(u.jsx)(N.a,{onClick:t,variant:"contained",children:"Add New"})]})},G=n(248),Q=n.n(G),X=n(244),Z=n.n(X),$=n(378),ee=n.n($),te=n(365),ne=n.n(te),ae=n(375),re=n.n(ae),ce=n(366),oe=n.n(ce),se=n(373),ie=n.n(se),ue=n(250),le=n.n(ue),je=n(249),de=n.n(je),be=n(367),fe=n.n(be),Oe=n(368),he=n.n(Oe),pe=n(370),xe=n.n(pe),me=n(371),ve=n.n(me),ge=n(372),De=n.n(ge),Ce=n(376),we=n.n(Ce),Se=n(369),Ne=n.n(Se),Re=n(374),Ye=n.n(Re),Me=n(377),ke=n.n(Me),_e=n(179),Pe=["open","handleClose","job"],ye=function(e){var t=e.open,n=e.handleClose,a=e.job;Object(v.a)(e,Pe);return a?Object(u.jsx)(E.a,{open:t,onClose:function(){n()},children:Object(u.jsxs)(V.a,{padding:"30px",children:[Object(u.jsxs)("div",{children:[Object(u.jsx)("p",{children:"Customer name"}),Object(u.jsx)("p",{style:{fontWeight:500},children:a.customerName})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("p",{children:"Model Number"}),Object(u.jsx)("p",{style:{fontWeight:500},children:a.model})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("p",{children:"Received Date"}),Object(u.jsx)("p",{style:{fontWeight:500},children:W()(a.receivedDate).format("Do MMM YY")})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("p",{children:"Returned Date"}),Object(u.jsx)("p",{style:{fontWeight:500},children:W()(a.returnedDate).format("Do MMM YY")})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("p",{children:"Amount"}),Object(u.jsx)("p",{style:{fontWeight:500},children:a.amount})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("p",{children:"Description"}),Object(u.jsx)("p",{style:{fontWeight:500},children:a.detailedDescription})]})]})}):null},Te=function(){var e,t=r.a.useState(!1),n=Object(s.a)(t,2),c=n[0],o=n[1],i=r.a.useState(!1),l=Object(s.a)(i,2),j=l[0],d=l[1],b=r.a.useState(!1),f=Object(s.a)(b,2),O=f[0],h=f[1],p=r.a.useState([]),x=Object(s.a)(p,2),v=x[0],g=x[1],D=function(){d(!1),c&&o(!1)},w=function(){return d(!0)},S=r.a.useRef(null),N=r.a.useState(null),R=Object(s.a)(N,2),Y=R[0],M=R[1],k={Add:Object(a.forwardRef)((function(e,t){return Object(u.jsx)(ne.a,Object(m.a)(Object(m.a)({},e),{},{ref:t}))})),Check:Object(a.forwardRef)((function(e,t){return Object(u.jsx)(oe.a,Object(m.a)(Object(m.a)({},e),{},{ref:t}))})),Clear:Object(a.forwardRef)((function(e,t){return Object(u.jsx)(de.a,Object(m.a)(Object(m.a)({},e),{},{ref:t}))})),Delete:Object(a.forwardRef)((function(e,t){return Object(u.jsx)(fe.a,Object(m.a)(Object(m.a)({},e),{},{ref:t}))})),DetailPanel:Object(a.forwardRef)((function(e,t){return Object(u.jsx)(le.a,Object(m.a)(Object(m.a)({},e),{},{ref:t}))})),Edit:Object(a.forwardRef)((function(e,t){return Object(u.jsx)(he.a,Object(m.a)(Object(m.a)({},e),{},{ref:t}))})),Export:Object(a.forwardRef)((function(e,t){return Object(u.jsx)(Ne.a,Object(m.a)(Object(m.a)({},e),{},{ref:t}))})),Filter:Object(a.forwardRef)((function(e,t){return Object(u.jsx)(xe.a,Object(m.a)(Object(m.a)({},e),{},{ref:t}))})),FirstPage:Object(a.forwardRef)((function(e,t){return Object(u.jsx)(ve.a,Object(m.a)(Object(m.a)({},e),{},{ref:t}))})),LastPage:Object(a.forwardRef)((function(e,t){return Object(u.jsx)(De.a,Object(m.a)(Object(m.a)({},e),{},{ref:t}))})),NextPage:Object(a.forwardRef)((function(e,t){return Object(u.jsx)(le.a,Object(m.a)(Object(m.a)({},e),{},{ref:t}))})),PreviousPage:Object(a.forwardRef)((function(e,t){return Object(u.jsx)(ie.a,Object(m.a)(Object(m.a)({},e),{},{ref:t}))})),ResetSearch:Object(a.forwardRef)((function(e,t){return Object(u.jsx)(de.a,Object(m.a)(Object(m.a)({},e),{},{ref:t}))})),Search:Object(a.forwardRef)((function(e,t){return Object(u.jsx)(Ye.a,Object(m.a)(Object(m.a)({},e),{},{ref:t}))})),SortArrow:Object(a.forwardRef)((function(e,t){return Object(u.jsx)(re.a,Object(m.a)(Object(m.a)({},e),{},{ref:t}))})),ThirdStateCheck:Object(a.forwardRef)((function(e,t){return Object(u.jsx)(we.a,Object(m.a)(Object(m.a)({},e),{},{ref:t}))})),ViewColumn:Object(a.forwardRef)((function(e,t){return Object(u.jsx)(ke.a,Object(m.a)(Object(m.a)({},e),{},{ref:t}))}))},_=function(){var e=Object(A.a)(T.a.mark((function e(t){var n,a;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.post("/service",Object(m.a)({},t));case 2:if((n=e.sent).error){e.next=9;break}return D(),e.next=7,C.get("/service");case 7:a=e.sent,g(a.data.result);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=function(){var e=Object(A.a)(T.a.mark((function e(t){var n,a;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.put("/service",Object(m.a)({},t));case 2:if((n=e.sent).error){e.next=10;break}return D(),e.next=7,C.get("/service");case 7:a=e.sent,g(a.data.result),S.current=null;case 10:return o(!1),e.abrupt("return",n);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=Object(A.a)(T.a.mark((function e(){var t;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.delete("/service/".concat(S.current._id));case 2:return e.next=4,C.get("/service");case 4:t=e.sent,g(t.data.result),M(null);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.useEffect((function(){C.get("/service").then((function(e){g(e.data.result)}))}),[]),Object(u.jsxs)("div",{className:Q.a.content,children:[Object(u.jsx)(q,{addNew:w}),Object(u.jsx)(Z.a,{options:{search:!1,showTitle:!1,toolbar:!1},icons:k,className:Q.a.wrapper,columns:[{field:"customerName",title:"Customer Name"},{field:"serialNumber",title:"Sr.No"},{field:"model",title:"Model"},{field:"receivedDate",title:"Rec Date"},{field:"returnedDate",title:"Ret Date"},{field:"amount",title:"Amount"}],data:(e=v,e.map((function(e){return{id:e._id,serialNumber:e.serialNumber,customerName:e.customerName,model:e.model,issue:e.issues,brand:e.brand,receivedDate:W()(e.receivedDate).format("Do MMM YY"),returnedDate:W()(e.returnedDate).format("Do MMM YY"),detailedDescription:e.detailedDescription,amount:e.amount}}))),actions:[{icon:function(){return Object(u.jsx)(ee.a,{})},tooltip:"Save User",onClick:function(e,t){M(e.target),C.get("/service/".concat(t.id)).then((function(e){S.current=e.data.result}))}}]}),Object(u.jsx)(B,{open:j,handleClose:D,createJob:_,updateJob:P,selected:S.current,isUpdate:c}),Object(u.jsx)(ye,{open:O,handleClose:function(){h(!1),S.current=null},job:S.current}),Object(u.jsxs)(_e.a,{id:"simple-menu",anchorEl:Y,keepMounted:!0,open:Boolean(Y),onClose:function(){return M(null)},children:[Object(u.jsx)(z.a,{onClick:function(){h(!0),M(null)},children:"View"}),Object(u.jsx)(z.a,{onClick:y,children:"Delete"}),Object(u.jsx)(z.a,{onClick:function(){M(null),w(),o(!0)},children:"Update"})]})]})},Ae=n(379),Ee=n.n(Ae),Le=function(){return Object(u.jsx)("div",{className:Ee.a.wrapper,children:Object(u.jsx)(d.c,{children:Object(u.jsx)(d.a,{exact:!0,path:"/",component:Te})})})},Ue=function(){var e=r.a.useContext(w).user,t=Object(d.f)();return r.a.useEffect((function(){e||t.push("/login")}),[]),Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(M,{}),Object(u.jsxs)("div",{className:"content-wrapper",children:[Object(u.jsx)(P,{}),Object(u.jsx)(Le,{})]})]})},Ie=n(124),Je=function(){var e=Object(d.f)(),t=r.a.useState(""),n=Object(s.a)(t,2),a=n[0],c=n[1],o=r.a.useState(""),i=Object(s.a)(o,2),l=i[0],j=i[1],b=r.a.useContext(w),f=b.user,O=b.setUser;return r.a.useEffect((function(){f&&e.push("/")})),Object(u.jsx)(V.a,{padding:10,children:Object(u.jsx)(Ie.a,{children:Object(u.jsxs)(V.a,{display:"flex",flexDirection:"column",padding:10,children:[Object(u.jsx)(L.a,{label:"username",value:a,variant:"outlined",onChange:function(e){return c(e.target.value)}}),Object(u.jsx)(L.a,{type:"password",label:"password",value:l,variant:"outlined",onChange:function(e){return j(e.target.value)}}),Object(u.jsx)(N.a,{onClick:function(){C.post("/user/login",{username:a,password:l}).then((function(e){console.log(e),e.data.error||O(e.data.user)}))},children:"Login"})]})})})},ze=function(){return Object(u.jsxs)(d.c,{children:[console.log(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_URL:"https://jpcms.herokuapp.com/"})),Object(u.jsx)(d.a,{exact:!0,path:"/login",component:Je}),Object(u.jsx)(d.a,{exact:!0,path:"/",component:Ue})]})};var Fe=function(){return Object(u.jsx)(S,{children:Object(u.jsx)(j.a,{children:Object(u.jsx)(l,{children:Object(u.jsx)(ze,{})})})})},We=function(e){e&&e instanceof Function&&n.e(6).then(n.bind(null,910)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,o=t.getTTFB;n(e),a(e),r(e),c(e),o(e)}))};o.a.render(Object(u.jsx)(r.a.StrictMode,{children:Object(u.jsx)(Fe,{})}),document.getElementById("root")),We()}},[[485,1,2]]]);
//# sourceMappingURL=main.b92c7b49.chunk.js.map